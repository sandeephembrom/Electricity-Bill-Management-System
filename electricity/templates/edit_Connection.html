{% extends 'navbar1.html' %}
{% load static %}
{% block body1 %}

{% if error %}
     <script>
	   alert('Your Connection has been Updated');
	   window.location=('{% url 'view_Connection' %}');
     </script>
{% endif %}

<div class="card shadow m-5">
    <div class="card-body">
      <h5 class="p-2" style="border-bottom: 2px solid orange">Edit Connection</h5>

      <div class="container-fluid">
        <form method="post">
          {% csrf_token %}
          <div class="form-row">

            <div class="col-sm-12">
              <div class="form-group">
                <label>10 Digit Connection ID</label>
                <input type="number" name="connectionid" class="form-control" value="{{connection.connectionid}}" readonly>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group">
                <label>Customer Name</label>
                <select name="customerid" class="form-control">
                     <option value="{{connection.customer.id}}">{{connection.customer.user.first_name}} {{connection.customer.user.last_name}} [{{connection.customer.user.username}}]</option>
					{% for i in customer %}
                        <option value="{{i.id}}">{{i.user.first_name}} {{i.user.last_name}} [{{i.user.username}}]</option>
					{% endfor %}
			    </select>
              </div>
            </div>

            <div class="col-sm-3">
             <div class="form-group">
               <label>Connection Type</label>
               <select name ="connectiontype" class="form-control" value="{{connection.connectiontype}}">
                <option selected>Residential</option>
                <option>Commercial</option>
               </select>
             </div>
            </div>

            <div class="col-sm-12">
             <div class="form-group">
               <label>Connection Start Date [{{connection.connectionstartdate}}]</label>
               <input type="date" name="connectionstartdate" class="form-control" value="">
             </div>
            </div>

            <div class="col-sm-12">
             <div class="form-group">
               <label>Occupation</label>
               <input type="text" name="occupation" class="form-control" value="{{connection.occupation}}">
             </div>
            </div>

            <div class="col-sm-12">
             <div class="form-group">
               <label>Load</label>
               <input type="number" name="connectionload" class="form-control" value="{{connection.connectionload}}">
             </div>
            </div>

            <div class="col-sm-12">
             <div class="form-group">
               <label>Plot No.</label>
               <input type="number" name="plotno" class="form-control" value="{{connection.plotno}}">
             </div>
            </div>

            <div class="col-sm-12">
             <div class="form-group">
               <label>City</label>
               <input type="text" name="city" class="form-control" value="{{connection.city}}">
             </div>
            </div>

            <div class="col-sm-12">
             <div class="form-group">
               <label>Pincode</label>
               <input type="number" name="pincode" class="form-control" value="{{connection.pincode}}">
             </div>
            </div>

            <div class="col-sm-12">
             <div class="form-group">
               <label>Address</label>
               <textarea name="address" class="form-control" rows="2">{{connection.address}}</textarea>
             </div>
            </div>

            <div class="col-sm-12">
             <div class="form-group">
               <label>State</label>
               <input type="text" name="state" class="form-control" value="{{connection.state}}">
             </div>
            </div>

            <div class="col-sm-12">
             <div class="form-group">
               <label>Description</label>
               <textarea name="description" class="form-control" rows="2">{{connection.description}}</textarea>
             </div>
            </div>

          </div>
          <hr>
        <input type="submit" value="Update" class="btn btn-primary">
        </form>
      </div>
    </div>
  </div>

{% endblock %}
